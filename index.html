<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Snake Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-wrapper">
        <h1 class="game-title">Math Snake</h1>
        <div class="game-container">
            <canvas id="gameCanvas" width="400" height="400"></canvas>
            <div class="sidebar">
                <div class="math-problem">
                    <div class="score-container">
                        <div id="score">Score: 0/30</div>
                    </div>
                    <div class="equation-container">
                        <h2>Solve the equation:</h2>
                        <p id="equation"></p>
                    </div>
                    <div class="instructions">
                        <h3>How to Play:</h3>
                        <ul>
                            <li>Use arrow keys to move</li>
                            <li>Find the correct number</li>
                            <li>‚≠ê Star: +1 length</li>
                            <li>üåÄ Portal: New equation</li>
                        </ul>
                    </div>
                    <div class="leaderboard">
                        <h3>Leaderboard</h3>
                        <div id="leaderboardList"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="gameOver" class="game-over hidden">
        <div class="game-over-content">
            <h2>Game Over</h2>
            <p class="final-score"></p>
            <input type="text" id="playerName" placeholder="Enter your name" maxlength="20">
            <button id="submitScore">Submit Score</button>
            <button id="restartBtn">Play Again</button>
        </div>
    </div>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    <script src="firebase-config.js"></script>
    <script src="leaderboard.js"></script>
    <script>
        // Prevent arrow keys from scrolling the page
        window.addEventListener("keydown", function(e) {
            if(["ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight", "R", "r", " "].indexOf(e.key) > -1) {
                e.preventDefault();
            }
            if(e.key === 'r' || e.key === 'R') {
                document.getElementById('restartBtn').click();
            }
        });
    </script>
    <script src="script.js"></script>
</body>
</html>